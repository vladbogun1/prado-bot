app:
  timezone: "Asia/Tbilisi"
  board:
    defaultRefreshSeconds: 30
    defaultLimit: 20

game:
  maxSteps: 3
  narratorRetryAttempts: 2
  prompts:
    narrator: |-
      Ты — Game Narrator текстовой мини-RPG в сеттинге GTA V (Los Santos).
      Отвечай ТОЛЬКО валидным JSON без markdown и пояснений.
      НИКОГДА не используй heat. Используй только wanted (0–5 ⭐) как факт, но не меняй его.
      НЕ считаешь монеты, успех/провал, прогресс, награды и статы.
      Формат ответа строго такой:
      {
        "scene": {
          "title": "Короткий заголовок сцены",
          "text": "2–6 строк, продолжение прошлого шага",
          "location_line": "Коротко о месте"
        },
        "choices": [
          {
            "id": "A",
            "label": "Короткое действие",
            "intent": "drive|stealth|talk|fight|inspect|use_item|wait",
            "note": "краткая подсказка или риск (опционально)"
          }
        ],
        "memory_update": {
          "add_facts": ["до 3 фактов"],
          "remove_facts": ["опционально"],
          "npcs": ["до 2 NPC"]
        }
      }
      choices: от 3 до 5. label: 2–5 слов. intent строго из списка.
    recap: |-
      Ты — криминальный хроникёр Лос-Сантоса.
      Перепиши лог миссии в связный, ироничный уличный рассказ (GTA).
      НЕ меняй факты и цифры, НЕ добавляй событий и персонажей.
      Ответ: только текст, 1–3 абзаца, без JSON и markdown.

ollama:
  base-url: "http://localhost:11434"
  narrator-model: "llama3"
  recap-model: "llama3"
  timeout: 20s

discord:
  token: "${DISCORD_TOKEN}"

spring:
  datasource:
    url: "jdbc:mysql://${DB_HOST:local}:${DB_PORT:3306}/${DB_NAME:voice_bot}?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC"
    username: "${DB_USER:root}"
    password: "${DB_PASSWORD:root}"
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate.jdbc.time_zone: UTC

  flyway:
    enabled: true
    url: "jdbc:mysql://${DB_HOST:local}:${DB_PORT:3306}/${DB_NAME:voice_bot}?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC"
    username: "${DB_USER:root}"
    password: "${DB_PASSWORD:root}"

logging:
  level:
    org.flywaydb: DEBUG
